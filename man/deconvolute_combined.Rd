% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main.R
\name{deconvolute_combined}
\alias{deconvolute_combined}
\title{Run multiple deconvolution methods and create aggregated results}
\usage{
deconvolute_combined(
  methyl_set,
  array = c("450k", "EPIC"),
  methods,
  scale_results = FALSE,
  ...
)
}
\arguments{
\item{methyl_set}{A minfi MethylSet}

\item{array}{type of methylation array that was used. possible options are '450k' and 'EPIC'}

\item{methods}{list of methods (>1) that will be applied to the methyl set}

\item{scale_results}{Whether the deconvolution results should be rescaled.
Negative values will be set to 0, and the estimates will be normalized to sum to 1 per sample.
Defaults to FALSE.}

\item{...}{Additional parameters, passed to the algorithm used. See individual method documentations for details.}
}
\value{
A data frame with columns: sample, method, celltype, value. Contains results from all individual methods plus an 'aggregated' method that averages the estimates across methods.
}
\description{
This function runs multiple cell-type deconvolution methods on the same methylation data and creates both individual method results and an aggregated (averaged) estimate. The aggregation approach can help reduce method-specific biases and provide more robust cell-type proportion estimates.
}
\details{
\strong{How it works:}
\itemize{
\item Runs each specified method independently on the methylation data
\item Standardizes cell-type names across methods using \code{rename_cell_types()}
\item For MethylResolver specifically, combines Tnaive and Tmem into "T cell CD4+" to match other methods
\item Calculates the mean estimate for each cell type across all methods (aggregated results)
\item Returns both individual method results and aggregated results in a long-format data frame
}

\strong{Cell-type standardization:}
The function uses \code{rename_cell_types()} to standardize cell-type names across different methods. This mapping includes:
\itemize{
\item CD8T/CD8/CD8T-cells_EPIC → "T cell CD8+"
\item CD4T/CD4T-cells_EPIC → "T cell CD4+"
\item B/Bcell/B-cells_EPIC → "B cell"
\item NK/NK-cells_EPIC → "NK cell"
\item Mono/Mon/Monocytes_EPIC → "Monocyte"
\item Neu/Neutro/Neutrophils/Neutrophils_EPIC → "Neutrophil"
\item Any unrecognized cell types → "other"
}

\strong{Meaning of 'other' cell types:}
The "other" category includes:
\itemize{
\item Cell types that are not in the standardized mapping above
\item Method-specific cell types that don't have direct equivalents in other methods
\item Rare or specialized cell populations that are only detected by certain methods
}

\strong{Limitations of the aggregation approach:}
\itemize{
\item \strong{Method heterogeneity:} Different methods use different algorithms, reference datasets, and cell-type definitions, which may not be directly comparable
\item \strong{Missing data handling:} If a method fails to estimate a particular cell type, it may be excluded from the aggregation, potentially biasing results
\item \strong{Equal weighting:} The current implementation gives equal weight to all methods, regardless of their individual performance or reliability
\item \strong{Cell-type coverage:} Methods may detect different sets of cell types, leading to incomplete coverage in aggregated results
\item \strong{No confidence intervals:} The aggregation provides point estimates without uncertainty quantification
}

\strong{Best practices:}
\itemize{
\item Use methods that are well-validated for your specific tissue type and experimental design
\item Consider the biological context when interpreting aggregated results
\item Validate results against independent measurements when possible
\item Be cautious when aggregating methods with very different cell-type definitions
\item Consider using the individual method results to assess consistency across methods
}
}
\examples{

ex_data <- minfiData::MsetEx

result <- deconvolute_combined(ex_data, methods=c('epidish','houseman'))
}
